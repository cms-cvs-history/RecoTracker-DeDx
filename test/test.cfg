process tracks = {

#include "RecoTracker/DeDx/test/minbias.cfi"
#include "RecoTracker/DeDx/test/jets.cfi"
#include "RecoTracker/DeDx/test/rhadrons.cfi"
#replace PoolSource.maxEvents = 10
  source = PoolSource {

   untracked vstring fileNames = {
//'file:/home/bilibao/CMSSW/CMSSW_1_5_0_pre2/src/RecoBTag/TrackCounting/test/Reco.root'
//'file:/tmp/btag.root'
'file:/home/bilibao/CMSSW/sample/tt-10.root'
 }

 }
 untracked PSet maxEvents = {untracked int32 input = 10}


# tracker geometry
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
 
# tracker numbering
#include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

#Refitter (+ access to Trajectory)
include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
replace TrackRefitter.TrajectoryInEvent = true

   # Track Associators
    include "SimTracker/TrackAssociation/data/TrackAssociatorByChi2.cfi"
    include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"

module dedxHits = DeDxHitsProducer {
        InputTag tracks = ctfWithMaterialTracks
	InputTag refittedTracks = TrackRefitter
	InputTag trajectoryTrackAssociation = TrackRefitter
	}

module dedx = DeDxEstimatorProducer {
        InputTag trackDeDxHits =  dedxHits
	}
	

    module out = PoolOutputModule {
        untracked string fileName = '/tmp/aaabb4.root'
    }



	path p = { TrackRefitter, dedxHits, dedx}
  endpath outpath = { out }

}
