process tracks = {

  source = PoolSource {

   untracked vstring fileNames = {
//'/store/mc/2007/9/28/CSA07-bbe_Pt_5_50-2217/0000/000B1640-8F77-DC11-BDE1-000423D999CA.root'
//'file:/data/arizzi/CMSSW_1_3_3/src/CosmicMC_ConfA_redigi-reco_99.root'
//fio:/castor/cern.ch/user/a/azzi/TIFPisaMC/CosmicMC_ConfA_redigi-reco_1.root'
'file:../../../old/run8055_PASS4_APE_NEW_DB.root'

 }

 }
# untracked PSet maxEvents = {untracked int32 input = 100}


# tracker geometry
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
 
# tracker numbering
#include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

#Refitter (+ access to Trajectory)
include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
replace TrackRefitter.TrajectoryInEvent = true
replace TrackRefitter.src = "ctfWithMaterialTracksTIF"


#Standard reconstruction:
include "Configuration/StandardSequences/data/Reconstruction.cff"


include "Configuration/StandardSequences/data/FakeConditions.cff"



include "RecoTracker/DeDx/data/dedxHitsFromRefitter.cfi"
replace dedxHitsFromRefitter.tracks = ctfWithMaterialTracksTIF 

include "RecoTracker/DeDx/data/dedxTruncated40.cfi"
include "RecoTracker/DeDx/data/dedxHarmonic2.cfi"
include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"


module dedxHarmonic4 = dedxHarmonic2 from "RecoTracker/DeDx/data/dedxHarmonic2.cfi"
replace dedxHarmonic4.exponent = -4

replace dedxHarmonic4.trackDeDxHits = dedxHitsFromRefitter



    module out = PoolOutputModule {
        untracked string fileName = 'test.root'
    }



  path p = {TrackRefitter,dedxHitsFromRefitter, dedxHarmonic4} 
  endpath outpath = { out }

}
